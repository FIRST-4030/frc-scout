{% extends 'frc_scout/base.html' %}

{% load staticfiles %}

{% block title %}Scouting{% endblock %}
{% load compress %}

{% block extra_css %}
    {% compress css inline %}
        <style type="text/css">
            ::-webkit-input-placeholder { /* WebKit browsers */
                color:    #666666 !important;
            }
            :-moz-placeholder { /* Mozilla Firefox 4 to 18 */
                color:    #666666 !important;
                opacity:  1;
            }
            ::-moz-placeholder { /* Mozilla Firefox 19+ */
                color:    #666666 !important;
                opacity:  1;
            }
            :-ms-input-placeholder { /* Internet Explorer 10+ */
                color:    #666666 !important;
            }

            #teleoperated {
                background: linear-gradient(rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, .3) 50%);
                padding-bottom: 10px;
            }
        </style>
    {% endcompress %}
    {% compress css %}
        <link rel="stylesheet" type="text/css" href="{% static 'frc_scout/css/bootstrap-switch.min.css' %}">
    {% endcompress %}
{% endblock %}

{% block main_content %}

    <!-- ERRORS -->
    <div class="container-fluid">
        <div class="alert alert-warning alert-dismissible" role="alert" id="alert" style="margin-top: 10px; display: none;">
            <button type="button" class="close" onclick="$('#alert').hide();" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <p id="correct_errors"><strong>Please correct the following errors:</strong></p>
            <span id="alert-text"></span>
        </div>
    </div>

    <!-- LOADING SCREEN -->
    <div class="container" id="loading">
        <h1>
            Loading...
        </h1>
    </div>

    <!-- PREMATCH -->
    <div class="container-fluid stage" style="display: none;" id="prematch">
        <div class="row">
            <div class="col-md-12">
                <h2>Pre-Match<span class="team-number"></span></h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <input id="match_number" class="form-control input-x-lg background-white" placeholder="Match Number" type='number'>
            </div>
        </div>
        <br>
        <div class="row" id="type_team_number">
            <div class="col-md-12">
                <input id="team_number" class="form-control input-x-lg background-white" placeholder="Team Number" type="number">
            </div>
        </div>
        <div class="row" id="select_team_number" class="alliance-toggle" style="display: none;">
            <div class="col-md-12">
                <select id="select_team_number_select" class="form-control input-x-lg alliance-toggle background-white">
                    <option value="" selected="selected">Select Team</option>
                </select>
            </div>
        </div>
        <div class="row" id="select_alliance_color">
            <br>
            <div class="col-md-12">
                <div class="btn-group max-width" data-toggle="buttons">
                    <label class="btn btn-lg btn-danger alliance-toggle" style="width: 50%;" id="red_alliance">
                        <input type="radio">
                        Red
                    </label>
                    <label class="btn btn-lg btn-primary alliance-toggle" style="width: 50%;" id="blue_alliance">
                        <input type="radio">
                        Blue
                    </label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h3 style="color: #666666;">Location: <span id='location'>{{ request.session.location_name }}</span></h3>
            </div>
            <br>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <button class="btn btn-extra-high btn-info btn-lg max-width" onclick="window.location = '{% url 'frc_scout:index' %}';"><span class="glyphicon glyphicon-arrow-left"></span> return home</button>
            </div>
            <div class="col-sm-6">
                <button class="btn btn-extra-high btn-primary btn-lg max-width" onclick="saveAndContinue('prematch', 'autonomous_starting_location');">autonomous &nbsp;<span class="glyphicon glyphicon-arrow-right"></span></button>
            </div>
        </div>
        <Br>
        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-extra-high btn-warning btn-lg max-width" style="display:none;" id="submit_pending" onclick="submitData();">Attempt to submit pending matches</button>
            </div>
        </div>
    </div>

    <!-- AUTONOMOUS STARTING LOCATION -->
    <div class="container-fluid stage" style="display: none;" id="autonomous_starting_location">
        <div class="row">
            <div class="col-md-12">
                <h2>Autonomous Start<span class="team-number"></span></h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div>
                    <img src="{% static "frc_scout/img/start_zone.png" %}" class="auto-location-image" id="auto_start_image">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-lg btn-info max-width" style="margin-top: 2vh; height: 10vh;" onclick="discardAndChangeStage('autonomous_starting_location', 'prematch');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; preMatCH</button>
            </div>
        </div>
    </div>

    <!-- AUTONOMOUS -->
    <div class="container-fluid stage" style="display: none;" id="autonomous">
        <div class="row">
            <div class="col-md-12">
                <h2>Autonomous<span class="team-number"></span></h2>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <h3>Totes</h3>
                <div class="row">
                    <div class="col-xs-8">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width btn-add-subtract" data-name="auto-moved-yellow-tote" data-operation="add">Yellow Tote in Zone</button>
                    </div>
                    <div class="col-xs-2">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning btn-add-subtract" data-name="auto-moved-yellow-tote" data-operation="subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2 text-center">
                        <h4 class="button-state-text" id="auto-moved-yellow-tote-text" data-max="3">0</h4>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-8">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width btn-add-subtract" data-name="auto-stacked-yellow-tote" data-operation="add">Stacked Yellow</button>
                    </div>
                    <div class="col-xs-2">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning btn-add-subtract" data-name="auto-stacked-yellow-tote" data-operation="subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2 text-center">
                        <h4 class="button-state-text" id="auto-stacked-yellow-tote-text" data-max="3">0</h4>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-8">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width btn-add-subtract" data-name="auto-acquired-grey-tote" data-operation="add">Acquired Grey</button>
                    </div>
                    <div class="col-xs-2">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning btn-add-subtract" data-name="auto-acquired-grey-tote" data-operation="subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2 text-center">
                        <h4 class="button-state-text" id="auto-acquired-grey-tote-text">0</h4>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <h3>Containers</h3>
                <div class="row">
                    <div class="col-xs-8">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width btn-add-subtract" data-name="auto-acquired-step-container" data-operation="add">Acquired From Step</button>
                    </div>
                    <div class="col-xs-2">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning btn-add-subtract" data-name="auto-acquired-step-container" data-operation="subtract" data-affect="moved_to_zone">&mdash;</button>
                    </div>
                    <div class="col-xs-2 text-center">
                        <h4 class="button-state-text" id="auto-acquired-step-container-text" data-max="4">0</h4>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-8">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width btn-add-subtract" data-name="auto-acquired-ground-container" data-operation="add">Acquired From Ground</button>
                    </div>
                    <div class="col-xs-2">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning btn-add-subtract" data-name="auto-acquired-ground-container" data-operation="subtract" data-affect="moved_to_zone">&mdash;</button>
                    </div>
                    <div class="col-xs-2 text-center">
                        <h4 class="button-state-text" id="auto-acquired-ground-container-text" data-max="3">0</h4>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-8">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width btn-add-subtract" data-name="auto-moved-container" data-operation="add">Moved To Zone</button>
                    </div>
                    <div class="col-xs-2">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning btn-add-subtract" data-name="auto-moved-container" data-operation="subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2 text-center">
                        <h4 class="button-state-text" id="auto-moved-container-text" data-max="7">0</h4>
                    </div>
                </div>

                <div class="row" style="margin-top:10px;">
                    <div class="col-xs-7">
                        <span class='btn-lg-text'>ROBOT ENDED IN AUTO ZONE</span>
                    </div>
                    <div class='col-xs-5 text-right'>
                        <input type="checkbox" id="auto_moved_to_alliance_zone">
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-sm-4">
                <button style="margin-top: -10px; margin-bottom: 5px; height: 75px;" class="btn btn-extra-high btn-info btn-lg max-width" onclick="saveAndContinue('autonomous', 'prematch');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; Prematch</button>
            </div>

            <div class="col-sm-4">
                <button style="margin-top: -10px; margin-bottom: 5px; height: 75px;" class="btn btn-extra-high btn-danger btn-lg max-width" onclick="saveAndContinue('autonomous', 'autonomous_fouls_and_other');">Fouls & Other</button>
            </div>

            <div class="col-sm-4">
                <button style="margin-top: -10px; margin-bottom: 5px; height: 75px;" class="btn btn-extra-high btn-primary btn-lg max-width" onclick="saveAndContinue('autonomous', 'teleoperated');">teleoperated  &nbsp;<span class="glyphicon glyphicon-arrow-right"></span></button>
            </div>
        </div>
    </div>

    <!-- AUTONOMOUS FOULS & OTHER -->
    <div class="container-fluid stage" id="autonomous_fouls_and_other" style="display: none;">
        <div class="row">
            <div class="col-md-12" style="margin-top: 2vh;">
                <button id="auto_fouls" onclick="saveAndContinue('autonomous_fouls_and_other', 'autonomous', this);" class="btn btn-lg btn-warning max-width" style="height: 25vh; margin-top: 1vh; margin-bottom: 1vh; font-size: 30px;">fouls</button>
            </div>
            <div class="col-md-12">
                <button id="auto_interference" onclick="saveAndContinue('autonomous_fouls_and_other', 'autonomous', this);" class="btn btn-lg btn-danger max-width" style="height: 25vh; margin-top: 1vh; margin-bottom: 1vh; font-size: 30px;">interference</button>
            </div>
            <div class="col-md-12">
                <button id="auto_no_auto" onclick="saveAndContinue('autonomous_fouls_and_other', 'autonomous', this);" class="btn btn-lg btn-default max-width" style="height: 25vh; margin-top: 1vh; font-size: 30px;">no auto</button>
            </div>
            <div class="col-md-12">
                <button class="btn btn-lg btn-info max-width" style="margin-top: 3vh; height: 10vh;" onclick="discardAndChangeStage('autonomous_fouls_and_other', 'autonomous');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; autONOMOUS</button>
            </div>
        </div>
    </div>

    <!-- TELEOPERATED -->
    <div class="container-fluid stage" id="teleoperated" style="display:none;">
        <div class="row">
            <div class="col-md-12">
                <h2>Teleoperated<span class="team-number"></span></h2>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <h3>Totes</h3>
                <div class="row">
                    <div class="col-xs-7">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width" onclick="saveAndContinue('teleoperated', 'teleoperated_picked_up_totes');">picked up</button>
                    </div>
                    <div class="col-xs-3">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning max-width" id="tele_picked_up_totes_subtract_button">&mdash;</button>
                    </div>
                    <div class="col-xs-2">
                        <h4 class="button-state-text three-column" id="tele_picked_up_totes">0</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-7">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width" id="tele_stacked_totes_button" onclick="saveAndContinue('teleoperated', 'teleoperated_stacked_totes');">stacked</button>
                    </div>
                    <div class="col-xs-3">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning max-width" id="tele_stacked_totes_subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2">
                        <h4 class="button-state-text three-column" id="tele_stacked_totes_text">0</h4>
                    </div>
                </div>
            </div>

            <div class="col-sm-4">
                <h3>Containers</h3>
                <div class="row">
                    <div class="col-xs-7">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width" onclick="saveAndContinue('teleoperated', 'teleoperated_picked_up_containers');">picked up</button>
                    </div>
                    <div class="col-xs-3">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning max-width" id="tele_picked_up_containers_subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2">
                        <h4 class="button-state-text three-column" id="tele_picked_up_containers_text" data-max="3">0</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-7">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width" onclick="saveAndContinue('teleoperated', 'teleoperated_stacked_containers');">stacked</button>
                    </div>
                    <div class="col-xs-3">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning max-width" id="tele_stacked_containers_subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2">
                        <h4 class="button-state-text three-column" id="tele_stacked_containers_text" data-max="3">0</h4>
                    </div>
                </div>
            </div>

            <div class="col-sm-4">
                <h3>Litter</h3>
                <div class="row">
                    <div class="col-xs-7">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width btn-add-subtract" data-name="tele_pushed_litter" data-operation="add">pushed</button>
                    </div>
                    <div class="col-xs-3">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning max-width btn-add-subtract" data-name="tele_pushed_litter" data-operation="subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2">
                        <h4 class="button-state-text three-column" id="tele_pushed_litter-text" data-max="20">0</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-7">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-success max-width btn-add-subtract" data-name="tele_placed_in_container_litter" data-operation="add">in container</button>
                    </div>
                    <div class="col-xs-3">
                        <button class="btn btn-extra-high btn-lg btn-lg-text btn-warning max-width btn-add-subtract" data-name="tele_placed_in_container_litter" data-operatio="subtract">&mdash;</button>
                    </div>
                    <div class="col-xs-2">
                        <h4 class="button-state-text three-column" id="tele_placed_in_container_litter-text" data-max="7">0</h4>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <h3 id="totes_in_possession_wrapper">Totes in possession: <span id="totes_in_possession">0</span></h3>
            </div>
            <div class="col-sm-6 text-right" id="died_during_match_text" style="display: none;">
                <h3 style="color: darkred;">Robot died during match</h3>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-sm-4">
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-extra-high btn-info btn-lg max-width" onclick="saveAndContinue('teleoperated', 'autonomous');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; autoNomoUs</button>
            </div>
            <div class="col-sm-4">
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-extra-high btn-danger btn-lg max-width" onclick="saveAndContinue('teleoperated', 'teleoperated_fouls_and_other');">Fouls & Other</button>
            </div>

            <div class="col-sm-4">
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-extra-high btn-primary btn-lg max-width" onclick="saveAndContinue('teleoperated', 'postmatch');">end match  &nbsp;<span class="glyphicon glyphicon-arrow-right"></span></button>
            </div>
        </div>
    </div>

    <!-- TELEOPERATED PICKED UP TOTES -->
    <div class="container-fluid stage" id="teleoperated_picked_up_totes" style="display:none;">
        <div class="row">
            <div class="col-sm-6">
                <button class="btn btn-lg btn-default max-width btn-grid" id="tele_picked_up_ground_upright_totes" style="margin-top: 2vh; margin-bottom: 1vh;" onclick="saveAndContinue('teleoperated_picked_up_totes', 'teleoperated', this);">ground upright</button>
                <button class="btn btn-lg btn-success max-width btn-grid" id="tele_picked_up_upside_down_totes" style="margin-top: 1vh; margin-bottom: 1vh;" onclick="saveAndContinue('teleoperated_picked_up_totes', 'teleoperated', this);">upside down</button>
            </div>

            <div class="col-sm-6">
                <button class="btn btn-lg btn-danger max-width btn-grid" id="tele_picked_up_sideways_totes" style="margin-top: 2vh; margin-bottom: 1vh;" onclick="saveAndContinue('teleoperated_picked_up_totes', 'teleoperated', this);">side</button>
                <button class="btn btn-lg btn-warning max-width btn-grid" id="tele_picked_up_human_station_totes" style="margin-top: 1vh; margin-bottom: 1vh;" onclick="saveAndContinue('teleoperated_picked_up_totes', 'teleoperated', this);">human station</button>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-lg btn-info max-width" style="margin-top: 1vh; height: 10vh;" onclick="discardAndChangeStage('teleoperated_picked_up_totes', 'teleoperated');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; teleoperated</button>
            </div>
        </div>

    </div>

    <!-- TELEOPERATED STACKED TOTES -->
    <div class="container-fluid stage" id="teleoperated_stacked_totes" style="display:none;">
        <div class="row">
            <div class="col-md-12">
                <h3>Totes Stacked On Top Of</h3>
                <div class="btn-group btn-default max-width" data-toggle="buttons" id="start_height">
                    <label class="btn btn-success btn-group-tall-6 start-height-group-wrapper">
                        <input type="radio" name="start_height_group" data-height="0"><span style="font-size: 24px; margin-top: 10px;">New<br>Stack</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6 start-height-group-wrapper">
                        <input type="radio" name="start_height_group" data-height="1"><span>1</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6 start-height-group-wrapper">
                        <input type="radio" name="start_height_group" data-height="2"><span>2</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6 start-height-group-wrapper">
                        <input type="radio" name="start_height_group" data-height="3"><span>3</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6 start-height-group-wrapper">
                        <input type="radio" name="start_height_group" data-height="4"><span>4</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6 start-height-group-wrapper">
                        <input type="radio" name="start_height_group" data-height="5"><span>5</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h3>Totes Added To Stack</h3>
                <div class="btn-group max-width" data-toggle="buttons" id="totes_added">
                    <label class="btn btn-warning btn-group-tall-6">
                        <input type="radio" name="totes_added_group" data-height="1"><span>1</span>
                    </label>
                    <label class="btn btn-warning btn-group-tall-6">
                        <input type="radio" name="totes_added_group" data-height="2"><span>2</span>
                    </label>
                    <label class="btn btn-warning btn-group-tall-6">
                        <input type="radio" name="totes_added_group" data-height="3"><span>3</span>
                    </label>
                    <label class="btn btn-warning btn-group-tall-6">
                        <input type="radio" name="totes_added_group" data-height="4"><span>4</span>
                    </label>
                    <label class="btn btn-warning btn-group-tall-6">
                        <input type="radio" name="totes_added_group" data-height="5"><span>5</span>
                    </label>
                    <label class="btn btn-warning btn-group-tall-6">
                        <input type="radio" name="totes_added_group" data-height="6"><span>6</span>
                    </label>
                </div>
            </div>
        </div>

        <br>
        <div class="row">
            <div class="col-sm-6">
                <button class="btn btn-lg btn-extra-high btn-info max-width" onclick="discardAndChangeStage('teleoperated_picked_up_totes', 'teleoperated');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; teleoperated</button>
            </div>
            <div class="col-sm-6">
                <button class="btn btn-lg btn-extra-high btn-primary max-width" onclick="saveAndContinue('teleoperated_stacked_totes', 'teleoperated_stacked_totes_location');">Continue <span class="glyphicon glyphicon-arrow-right"></span></button>
            </div>
        </div>
    </div>

    <!-- TELEOPERATED STACKED TOTES LOCATION -->
    <div class="container-fluid stage" style="display:none;" id="teleoperated_stacked_totes_location">
        <div class="row">
            <div class="col-md-12">
                <h2>Stack Location<span class="team-number"></span></h2>

                <img src="{% static "frc_scout/img/tote_score.png" %}" class="auto-location-image" id="teleoperated_stacked_totes_image">
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-lg btn-info max-width" style="margin-top: 2vh; height: 10vh;" onclick="discardAndChangeStage('teleoperated_stacked_totes_location', 'teleoperated_stacked_totes');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; Stacked Totes</button>
            </div>
        </div>
    </div>

    <!-- TELEOPERATED PICKED UP BINS -->
    <div class="container-fluid stage" style="display: none;" id="teleoperated_picked_up_containers">
        <div class="row">
            <div class="col-md-12" style="margin-top: 2vh;">
                <button id="tele_picked_up_sideways_containers" onclick="saveAndContinue('teleoperated_picked_up_containers', 'teleoperated', this);" class="btn btn-lg btn-warning max-width" style="height: 25vh; margin-top: 1vh; margin-bottom: 1vh; font-size: 30px;">side</button>
            </div>
            <div class="col-md-12">
                <button id="tele_picked_up_upright_containers" onclick="saveAndContinue('teleoperated_picked_up_containers', 'teleoperated', this);" class="btn btn-lg btn-success max-width" style="height: 25vh; margin-top: 1vh; margin-bottom: 1vh; font-size: 30px;">upright</button>
            </div>
            <div class="col-md-12">
                <button id="tele_picked_up_center_step_containers" onclick="saveAndContinue('teleoperated_picked_up_containers', 'teleoperated', this);" class="btn btn-lg btn-danger max-width" style="height: 25vh; margin-top: 1vh; font-size: 30px;">center/step</button>
            </div>
            <div class="col-md-12">
                <button class="btn btn-lg btn-info max-width" style="margin-top: 3vh; height: 10vh;" onclick="discardAndChangeStage('teleoperated_picked_up_totes', 'teleoperated');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; teleoperated</button>
            </div>
        </div>
    </div>

    <!-- TELEOPERATED STACKED BINS -->
    <div class="container-fluid stage" style="display: none;" id="teleoperated_stacked_containers">
        <div class="row">
            <div class="col-md-12">
                <h3>Totes Stacked On Top Of</h3>
                <div class="btn-group max-width" data-toggle="buttons" id="container_stack_height">
                    <label class="btn btn-success btn-group-tall-6">
                        <input type="radio" name="options" data-height="1"><span>1</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6">
                        <input type="radio" name="options" data-height="2"><span>2</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6">
                        <input type="radio" name="options" data-height="3"><span>3</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6">
                        <input type="radio" name="options" data-height="4"><span>4</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6">
                        <input type="radio" name="options" data-height="5"><span>5</span>
                    </label>
                    <label class="btn btn-success btn-group-tall-6">
                        <input type="radio" name="options" data-height="6"><span>6</span>
                    </label>
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-sm-6">
                <button class="btn btn-lg btn-extra-high btn-info max-width" onclick="discardAndChangeStage('teleoperated_picked_up_totes', 'teleoperated');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; teleoperated</button>
            </div>
            <div class="col-sm-6">
                <button class="btn btn-lg btn-extra-high btn-primary max-width" onclick="saveAndContinue('teleoperated_stacked_containers', 'teleoperated');">Continue <span class="glyphicon glyphicon-arrow-right"></span></button>
            </div>
        </div>
    </div>

    <!-- TELEOPERATED FOULS AND OTHER -->
    <div class="container-fluid stage" id="teleoperated_fouls_and_other" style="display:none;">
        <div class="row">
            <div class="col-sm-6">
                <button class="btn btn-lg btn-default max-width btn-grid" id="tele_fouls" style="margin-top: 2vh; margin-bottom: 1vh;" onclick="saveAndContinue('teleoperated_fouls_and_other', 'teleoperated', this);">fouls</button>
                <button class="btn btn-lg btn-success max-width btn-grid" id="tele_knocked_over_stacks" style="margin-top: 1vh; margin-bottom: 1vh;" onclick="saveAndContinue('teleoperated_fouls_and_other', 'teleoperated', this);">knocked over stack</button>
            </div>

            <div class="col-sm-6">
                <button class="btn btn-lg btn-danger max-width btn-grid" id="tele_dead_bot" style="margin-top: 2vh; margin-bottom: 1vh;" onclick="saveAndContinue('teleoperated_fouls_and_other', 'teleoperated', this);">dead bot</button>
                <button class="btn btn-lg btn-warning max-width btn-grid" id="tele_shooter_jam" style="margin-top: 1vh; margin-bottom: 1vh;" onclick="saveAndContinue('teleoperated_fouls_and_other', 'teleoperated', this);">container fell off</button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-lg btn-info max-width" style="margin-top: 1vh; height: 10vh;" onclick="discardAndChangeStage('teleoperated_picked_up_totes', 'teleoperated');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; teleoperated</button>
            </div>
        </div>
    </div>

    <!-- END GAME -->
    <div class="container-fluid stage" style="display: none;" id="postmatch">
        <div class="row">
            <div class="col-md-12">
                <h2>Post-Match<span class="team-number"></span></h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <input type="number" class="form-control background-white input-x-lg" id="match_final_score" placeholder="Final Alliance Score">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-12">
                <textarea class="form-control background-white" rows="2" id="tele_foul_context" placeholder="Please comment on any fouls that occurred during the match."></textarea>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-12">
                {#                <h5><strong>Private</strong> comments about the match. <span style="color: green; font-weight: 500;">Only your team will have access to them.</span></h5>#}
                <textarea class="form-control background-white" rows="2" id="tele_private_comments" placeholder="Private comments about the match &mdash; only your team will have access to them."></textarea>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-12">
                {#                <h5><strong>Public</strong> comments about the match. <span style="color: firebrick; font-weight: 500;">Everyone will have access to them.</span></h5>#}
                <textarea class="form-control background-white" rows="2" id="tele_public_comments" placeholder="Public comments about the match &mdash; everyone will have access to them."></textarea>
            </div>
        </div>
        <Br>
        <div class="row">
            <div class="col-sm-6">
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-extra-high btn-info btn-lg max-width" onclick="saveAndContinue('postmatch', 'teleoperated');"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp; teleoperated</button>
            </div>
            <div class="col-sm-6">
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-extra-high btn-primary btn-lg max-width" onclick="saveAndContinue('postmatch', 'finish');">finish scouting  &nbsp;<span class="glyphicon glyphicon-arrow-right"></span></button>
            </div>
        </div>
    </div>

    <div class="container-fluid stage" id="finish" style="display: none;">
        <div class="row">
            <div class="col-md-12">
                <h2 style="margin-bottom: 15px;">Finish Scouting<span class="team-number"></span></h2>
            </div>
            <div class="row">
                <div class='col-md-12'>
                    <div class="well">
                        <div id="offline_message" style="display: none;">
                            <h4><span class="glyphicon glyphicon-exclamation-sign"></span> You are offline.</h4>
                            <h6>You may save your scouting data locally and submit it at a later time.</h6>
                            <h6>You will be redirected to restart scouting so the page will remain loaded.</h6>
                            <br>
                            <div class="row">
                                <div class="col-sm-3">
                                    <button class="btn btn-danger max-width btn-lg btn-extra-high" onclick="discardData();"><span class="glyphicon glyphicon-exclamation-sign"></span> discard data</button>
                                </div>
                                <div class="col-sm-9">
                                    <button class="btn btn-primary max-width btn-lg btn-extra-high" onclick="saveDataOffline();" id="save_data"><span class="glyphicon glyphicon-floppy-disk"></span> save offline</button>
                                </div>
                            </div>
                        </div>

                        <div id="online_message" style="display: none;">
                            <h4><span class="glyphicon glyphicon-check"></span> Ready to submit data.</h4>
                            <h6>If you have pending matches stored locally, they will also be submitted at this time.</h6>
                            <br>
                            <div class="row">
                                <div class="col-sm-3">
                                    <button class="btn btn-danger max-width btn-lg btn-extra-high" onclick="discardData();"><span class="glyphicon glyphicon-exclamation-sign"></span> discard data</button>
                                </div>
                                <div class="col-sm-9">
                                    <button class="btn btn-success max-width btn-lg btn-extra-high" onclick="submitData();" id="upload_data"><span class="glyphicon glyphicon-upload"></span> submit to database</button>
                                </div>
                            </div>
                        </div>

                        <div id="in_progress_message" style="display: none;">
                            <h4>Submitting data... <span id="in_progress_loading" style="display: none;">done.</span></h4>
                        </div>

                        <div id="finished_message" style="display: none;">
                            <h4><span class="glyphicon glyphicon-saved"></span> Your data has been <span id="submitted">submitted</span><span id="saved">saved</span><span id="deleted">deleted</span> successfully.</h4>
                            <div id="submit_errors">
                                <h6>However, the following matches were unable to be saved due to incomplete data collection:</h6>
                                <ul id="submit_errors_list">
                                </ul>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-sm-6">
                                    <button onclick="saveAndContinue('finish', 'prematch');" class="btn btn-primary max-width btn-lg btn-extra-high"><span class="glyphicon glyphicon-share-alt"></span> Scout another match</button>
                                </div>
                                <div class="col-sm-6">
                                    <button onclick="window.location = '{% url 'frc_scout:index' %}';" class="btn btn-info max-width btn-lg btn-extra-high"><span class="glyphicon glyphicon-arrow-up"></span> Return home</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


{% endblock %}


{% block extra_js %}
    {% compress js %}
        <script type="text/javascript" src="{% static 'frc_scout/js/bootstrap-switch.min.js' %}"></script>
        <script type="text/javascript" src="{% static "frc_scout/js/match-scouting.js" %}"></script>
    {% endcompress %}
{% endblock %}